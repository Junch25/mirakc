{
  "swagger": "2.0",
  "info": {
    "title": "Web API endpoints for Mirakurun.Client",
    "version": "3.9.0-beta.4",
    "description": "Generated by `update-mirakurun-openapi-json`"
  },
  "basePath": "/api",
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/version": {
      "parameters": [],
      "get": {
        "tags": [
          "version"
        ],
        "operationId": "checkVersion",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Version"
            }
          },
          "default": {
            "description": "Unexpected Error",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        }
      }
    },
    "/tuners": {
      "parameters": [],
      "get": {
        "tags": [
          "tuners"
        ],
        "operationId": "getTuners",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/TunerDevice"
              }
            }
          },
          "default": {
            "description": "Unexpected Error",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        }
      }
    },
    "/status": {
      "parameters": [],
      "get": {
        "tags": [
          "status"
        ],
        "summary": "Get Status",
        "operationId": "getStatus",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Status"
            }
          },
          "default": {
            "description": "Unexpected Error",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        }
      }
    },
    "/services": {
      "parameters": [],
      "get": {
        "tags": [
          "services"
        ],
        "operationId": "getServices",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Service"
              }
            }
          },
          "default": {
            "description": "Unexpected Error",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        }
      }
    },
    "/programs": {
      "parameters": [],
      "get": {
        "tags": [
          "programs"
        ],
        "operationId": "getPrograms",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Program"
              }
            }
          },
          "default": {
            "description": "Unexpected Error",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        }
      }
    },
    "/iptv/xmltv": {
      "parameters": [],
      "get": {
        "tags": [
          "iptv"
        ],
        "summary": "IPTV - XMLTV EPG Data",
        "produces": [
          "text/xml"
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "default": {
            "description": "Unexpected Error",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        }
      }
    },
    "/iptv/playlist": {
      "parameters": [],
      "get": {
        "tags": [
          "iptv"
        ],
        "summary": "IPTV - M3U Playlist",
        "produces": [
          "application/x-mpegURL"
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "default": {
            "description": "Unexpected Error",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        }
      }
    },
    "/channels": {
      "parameters": [],
      "get": {
        "tags": [
          "channels"
        ],
        "operationId": "getChannels",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Channel"
              }
            }
          },
          "default": {
            "description": "Unexpected Error",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        }
      }
    },
    "/services/{id}/stream": {
      "parameters": [
        {
          "in": "path",
          "name": "id",
          "type": "integer",
          "maximum": 6553565535,
          "required": true
        },
        {
          "in": "header",
          "name": "X-Mirakurun-Priority",
          "type": "integer",
          "minimum": 0
        },
        {
          "in": "query",
          "name": "decode",
          "type": "integer",
          "minimum": 0,
          "maximum": 1
        }
      ],
      "get": {
        "tags": [
          "services",
          "stream"
        ],
        "operationId": "getServiceStream",
        "produces": [
          "video/MP2T"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Mirakurun-Tuner-User-ID": {
                "type": "string"
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "503": {
            "description": "Tuner Resource Unavailable"
          },
          "default": {
            "description": "Unexpected Error"
          }
        }
      }
    },
    "/services/{id}/logo": {
      "parameters": [
        {
          "in": "path",
          "name": "id",
          "type": "integer",
          "maximum": 6553565535,
          "required": true
        }
      ],
      "get": {
        "tags": [
          "services"
        ],
        "operationId": "getLogoImage",
        "produces": [
          "image/png"
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found"
          },
          "503": {
            "description": "Logo Data Unavailable"
          },
          "default": {
            "description": "Unexpected Error"
          }
        }
      }
    },
    "/services/{id}": {
      "parameters": [
        {
          "in": "path",
          "name": "id",
          "type": "integer",
          "maximum": 6553565535,
          "required": true
        }
      ],
      "get": {
        "tags": [
          "services"
        ],
        "operationId": "getService",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Service"
            }
          },
          "404": {
            "description": "Not Found",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          },
          "default": {
            "description": "Unexpected Error",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        }
      }
    },
    "/programs/{id}/stream": {
      "parameters": [
        {
          "in": "path",
          "name": "id",
          "type": "integer",
          "minimum": 10000000000,
          "maximum": 655356553565535,
          "required": true
        },
        {
          "in": "header",
          "name": "X-Mirakurun-Priority",
          "type": "integer",
          "minimum": 0
        },
        {
          "in": "query",
          "name": "decode",
          "type": "integer",
          "minimum": 0,
          "maximum": 1
        }
      ],
      "get": {
        "tags": [
          "programs",
          "stream"
        ],
        "operationId": "getProgramStream",
        "produces": [
          "video/MP2T"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Mirakurun-Tuner-User-ID": {
                "type": "string"
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "503": {
            "description": "Tuner Resource Unavailable"
          },
          "default": {
            "description": "Unexpected Error"
          }
        }
      }
    },
    "/programs/{id}": {
      "parameters": [
        {
          "in": "path",
          "name": "id",
          "type": "integer",
          "minimum": 10000000000,
          "maximum": 655356553565535,
          "required": true
        }
      ],
      "get": {
        "tags": [
          "programs"
        ],
        "operationId": "getProgram",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/Program"
            }
          },
          "404": {
            "description": "Not Found",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          },
          "default": {
            "description": "Unexpected Error",
            "schema": {
              "$ref": "#/definitions/Error"
            }
          }
        }
      }
    },
    "/channels/{type}/{channel}/stream": {
      "parameters": [
        {
          "in": "path",
          "name": "type",
          "type": "string",
          "enum": [
            "GR",
            "BS",
            "CS",
            "SKY"
          ],
          "required": true
        },
        {
          "in": "path",
          "name": "channel",
          "type": "string",
          "required": true
        },
        {
          "in": "header",
          "name": "X-Mirakurun-Priority",
          "type": "integer",
          "minimum": 0
        },
        {
          "in": "query",
          "name": "decode",
          "type": "integer",
          "minimum": 0,
          "maximum": 1
        }
      ],
      "get": {
        "tags": [
          "channels",
          "stream"
        ],
        "operationId": "getChannelStream",
        "produces": [
          "video/MP2T"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Mirakurun-Tuner-User-ID": {
                "type": "string"
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "503": {
            "description": "Tuner Resource Unavailable"
          },
          "default": {
            "description": "Unexpected Error"
          }
        }
      }
    },
    "/channels/{type}/{channel}/services/{id}/stream": {
      "parameters": [
        {
          "in": "path",
          "name": "type",
          "type": "string",
          "enum": [
            "GR",
            "BS",
            "CS",
            "SKY"
          ],
          "required": true
        },
        {
          "in": "path",
          "name": "channel",
          "type": "string",
          "required": true
        },
        {
          "in": "path",
          "name": "id",
          "type": "integer",
          "maximum": 6553565535,
          "required": true
        },
        {
          "in": "header",
          "name": "X-Mirakurun-Priority",
          "type": "integer",
          "minimum": 0
        },
        {
          "in": "query",
          "name": "decode",
          "type": "integer",
          "minimum": 0,
          "maximum": 1
        }
      ],
      "get": {
        "tags": [
          "channels",
          "services",
          "stream"
        ],
        "operationId": "getServiceStreamByChannel",
        "produces": [
          "video/MP2T"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "headers": {
              "X-Mirakurun-Tuner-User-ID": {
                "type": "string"
              }
            }
          },
          "404": {
            "description": "Not Found"
          },
          "503": {
            "description": "Tuner Resource Unavailable"
          },
          "default": {
            "description": "Unexpected Error"
          }
        }
      }
    }
  },
  "definitions": {
    "Error": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer"
        },
        "reason": {
          "type": "string"
        },
        "errors": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ErrorOfOpenAPI"
          }
        }
      }
    },
    "ErrorOfOpenAPI": {
      "type": "object",
      "properties": {
        "errorCode": {
          "type": "string"
        },
        "message": {
          "type": "string"
        },
        "location": {
          "type": "string"
        }
      }
    },
    "ProgramId": {
      "type": "integer",
      "maximum": 655356553565535
    },
    "EventId": {
      "type": "integer",
      "maximum": 65535
    },
    "ServiceId": {
      "type": "integer",
      "maximum": 65535
    },
    "NetworkId": {
      "type": "integer",
      "maximum": 65535
    },
    "ServiceItemId": {
      "type": "integer",
      "maximum": 6553565535
    },
    "UnixtimeMS": {
      "type": "integer"
    },
    "Channel": {
      "type": "object",
      "required": [
        "type",
        "channel"
      ],
      "properties": {
        "type": {
          "$ref": "#/definitions/ChannelType"
        },
        "channel": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "satellite": {
          "type": "string"
        },
        "space": {
          "type": "integer"
        },
        "freq": {
          "type": "number"
        },
        "polarity": {
          "type": "string",
          "enum": [
            "H",
            "V"
          ]
        },
        "tsmfRelTs": {
          "type": "integer"
        },
        "services": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Service"
          }
        }
      }
    },
    "ChannelType": {
      "type": "string",
      "enum": [
        "GR",
        "BS",
        "CS",
        "SKY"
      ]
    },
    "Service": {
      "type": "object",
      "required": [
        "id",
        "serviceId",
        "networkId",
        "name",
        "type"
      ],
      "properties": {
        "id": {
          "$ref": "#/definitions/ServiceItemId"
        },
        "serviceId": {
          "$ref": "#/definitions/ServiceId"
        },
        "networkId": {
          "$ref": "#/definitions/NetworkId"
        },
        "name": {
          "type": "string"
        },
        "type": {
          "type": "integer"
        },
        "logoId": {
          "type": "integer"
        },
        "hasLogoData": {
          "type": "boolean"
        },
        "remoteControlKeyId": {
          "type": "integer"
        },
        "epgReady": {
          "type": "boolean"
        },
        "epgUpdatedAt": {
          "$ref": "#/definitions/UnixtimeMS"
        },
        "channel": {
          "$ref": "#/definitions/Channel"
        }
      }
    },
    "Program": {
      "type": "object",
      "required": [
        "id",
        "eventId",
        "serviceId",
        "networkId",
        "startAt",
        "duration",
        "isFree"
      ],
      "properties": {
        "id": {
          "$ref": "#/definitions/ProgramId"
        },
        "eventId": {
          "$ref": "#/definitions/EventId"
        },
        "serviceId": {
          "$ref": "#/definitions/ServiceId"
        },
        "networkId": {
          "$ref": "#/definitions/NetworkId"
        },
        "startAt": {
          "$ref": "#/definitions/UnixtimeMS"
        },
        "duration": {
          "type": "integer"
        },
        "isFree": {
          "type": "boolean"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "genres": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ProgramGenre"
          }
        },
        "video": {
          "type": "object",
          "properties": {
            "type": {
              "$ref": "#/definitions/ProgramVideoType"
            },
            "resolution": {
              "$ref": "#/definitions/ProgramVideoResolution"
            },
            "streamContent": {
              "type": "integer"
            },
            "componentType": {
              "type": "integer"
            }
          }
        },
        "audios": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "componentType": {
                "type": "integer"
              },
              "componentTag": {
                "type": "integer"
              },
              "isMain": {
                "type": "boolean"
              },
              "samplingRate": {
                "$ref": "#/definitions/ProgramAudioSamplingRate"
              },
              "langs": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": [
                    "jpn",
                    "eng",
                    "deu",
                    "fra",
                    "ita",
                    "rus",
                    "zho",
                    "kor",
                    "spa",
                    "etc"
                  ]
                }
              }
            }
          }
        },
        "extended": {
          "type": "object"
        },
        "relatedItems": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/RelatedItem"
          }
        },
        "series": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer"
            },
            "repeat": {
              "type": "integer",
              "minimum": 0
            },
            "pattern": {
              "$ref": "#/definitions/ProgramPattern"
            },
            "expiresAt": {
              "$ref": "#/definitions/UnixtimeMS"
            },
            "episode": {
              "$ref": "#/definitions/ProgramEpisodeNumber"
            },
            "lastEpisode": {
              "$ref": "#/definitions/ProgramEpisodeNumber"
            },
            "name": {
              "type": "string"
            }
          }
        }
      }
    },
    "ProgramGenre": {
      "type": "object",
      "properties": {
        "lv1": {
          "type": "integer"
        },
        "lv2": {
          "type": "integer"
        },
        "un1": {
          "type": "integer"
        },
        "un2": {
          "type": "integer"
        }
      }
    },
    "ProgramVideoType": {
      "type": "string",
      "enum": [
        "mpeg2",
        "h.264",
        "h.265"
      ]
    },
    "ProgramVideoResolution": {
      "type": "string",
      "enum": [
        "240p",
        "480i",
        "480p",
        "720p",
        "1080i",
        "1080p",
        "2160p",
        "4320p"
      ]
    },
    "ProgramAudioSamplingRate": {
      "type": "integer",
      "enum": [
        16000,
        22050,
        24000,
        32000,
        44100,
        48000
      ]
    },
    "ProgramPattern": {
      "type": "integer",
      "minimum": 0,
      "maximum": 7
    },
    "ProgramEpisodeNumber": {
      "type": "integer",
      "minimum": 1,
      "maximum": 4095
    },
    "RelatedItem": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "shared",
            "relay",
            "movement"
          ]
        },
        "networkId": {
          "type": "integer"
        },
        "serviceId": {
          "type": "integer"
        },
        "eventId": {
          "type": "integer"
        }
      }
    },
    "TunerDevice": {
      "type": "object",
      "required": [
        "index",
        "name",
        "types",
        "command",
        "pid",
        "users",
        "isAvailable",
        "isFree",
        "isUsing",
        "isFault"
      ],
      "properties": {
        "index": {
          "type": "integer"
        },
        "name": {
          "type": "string"
        },
        "types": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ChannelType"
          }
        },
        "command": {
          "type": "string"
        },
        "pid": {
          "type": "integer"
        },
        "users": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TunerUser"
          }
        },
        "isAvailable": {
          "type": "boolean"
        },
        "isRemote": {
          "type": "boolean"
        },
        "isFree": {
          "type": "boolean"
        },
        "isUsing": {
          "type": "boolean"
        },
        "isFault": {
          "type": "boolean"
        }
      }
    },
    "TunerUser": {
      "type": "object",
      "required": [
        "id",
        "priority"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "priority": {
          "type": "integer",
          "minimum": -1
        },
        "agent": {
          "type": "string"
        },
        "url": {
          "type": "string"
        },
        "disableDecoder": {
          "type": "boolean"
        },
        "streamSetting": {
          "type": "object",
          "required": [
            "channel"
          ],
          "properties": {
            "channel": {
              "$ref": "#/definitions/ConfigChannelsItem"
            },
            "networkId": {
              "type": "integer"
            },
            "serviceId": {
              "type": "integer"
            },
            "eventId": {
              "type": "integer"
            },
            "noProvide": {
              "type": "boolean"
            },
            "parseNIT": {
              "type": "boolean"
            },
            "parseSDT": {
              "type": "boolean"
            },
            "parseEIT": {
              "type": "boolean"
            }
          }
        },
        "streamInfo": {
          "type": "object",
          "additionalProperties": {
            "type": "object",
            "required": [
              "packet",
              "drop"
            ],
            "properties": {
              "packet": {
                "type": "integer"
              },
              "drop": {
                "type": "integer"
              }
            }
          }
        }
      }
    },
    "TunerProcess": {
      "type": "object",
      "required": [
        "pid"
      ],
      "properties": {
        "pid": {
          "type": "integer"
        }
      }
    },
    "Event": {
      "type": "object",
      "required": [
        "resource",
        "type",
        "data",
        "time"
      ],
      "properties": {
        "resource": {
          "$ref": "#/definitions/EventResource"
        },
        "type": {
          "$ref": "#/definitions/EventType"
        },
        "data": {
          "type": "object"
        },
        "time": {
          "$ref": "#/definitions/UnixtimeMS"
        }
      }
    },
    "EventResource": {
      "type": "string",
      "enum": [
        "program",
        "service",
        "tuner"
      ]
    },
    "EventType": {
      "type": "string",
      "enum": [
        "create",
        "update",
        "redefine"
      ]
    },
    "ConfigServer": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string"
        },
        "port": {
          "type": "integer",
          "minimum": 1,
          "maximum": 65535
        },
        "hostname": {
          "type": "string"
        },
        "disableIPv6": {
          "type": "boolean"
        },
        "logLevel": {
          "type": "integer",
          "minimum": -1,
          "maximum": 3
        },
        "maxLogHistory": {
          "type": "integer",
          "minimum": 0
        },
        "highWaterMark": {
          "type": "integer"
        },
        "maxBufferBytesBeforeReady": {
          "type": "integer"
        },
        "eventEndTimeout": {
          "type": "integer",
          "minimum": 0
        },
        "programGCInterval": {
          "type": "integer"
        },
        "epgGatheringInterval": {
          "type": "integer"
        },
        "epgRetrievalTime": {
          "type": "integer"
        },
        "logoDataInterval": {
          "type": "integer"
        },
        "disableEITParsing": {
          "type": "boolean"
        }
      }
    },
    "ConfigTuners": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ConfigTunersItem"
      }
    },
    "ConfigTunersItem": {
      "type": "object",
      "required": [
        "name",
        "types"
      ],
      "properties": {
        "name": {
          "type": "string"
        },
        "types": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ChannelType"
          }
        },
        "command": {
          "type": "string"
        },
        "dvbDevicePath": {
          "type": "string"
        },
        "remoteMirakurunHost": {
          "type": "string"
        },
        "remoteMirakurunPort": {
          "type": "integer"
        },
        "remoteMirakurunDecoder": {
          "type": "boolean"
        },
        "decoder": {
          "type": "string"
        },
        "isDisabled": {
          "type": "boolean"
        }
      }
    },
    "ConfigChannels": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/ConfigChannelsItem"
      }
    },
    "ConfigChannelsItem": {
      "type": "object",
      "required": [
        "name",
        "type",
        "channel"
      ],
      "properties": {
        "name": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/ChannelType"
        },
        "channel": {
          "type": "string"
        },
        "serviceId": {
          "$ref": "#/definitions/ServiceId"
        },
        "satellite": {
          "type": "string"
        },
        "space": {
          "type": "integer"
        },
        "freq": {
          "type": "number"
        },
        "polarity": {
          "type": "string",
          "enum": [
            "H",
            "V"
          ]
        },
        "isDisabled": {
          "type": "boolean"
        }
      }
    },
    "Version": {
      "type": "string"
    },
    "Status": {
      "type": "object",
      "properties": {}
    }
  },
  "tags": [
    {
      "name": "channels"
    },
    {
      "name": "config"
    },
    {
      "name": "events"
    },
    {
      "name": "iptv"
    },
    {
      "name": "log"
    },
    {
      "name": "misc"
    },
    {
      "name": "programs"
    },
    {
      "name": "services"
    },
    {
      "name": "status"
    },
    {
      "name": "stream"
    },
    {
      "name": "tuners"
    },
    {
      "name": "version"
    }
  ],
  "host": "localhost:40772"
}
